# Concepts

## Handing identity columns
In WMS, many tables are ID-based, where the primary key (`ID`) is an auto-generated identity column. These IDs are assigned automatically by the database and cannot be controlled manually.

- The Problem

    When deploying changes across environments (e.g., from development to staging or production), using system-generated IDs directly introduces several risks:

    - A specific ID in the **source environment** may already exist in the **target environment**.
    - That existing ID in the target environment might be linked to **different data**, leading to inconsistencies.
    - **Inserting data** using the same ID can cause:
         - Conflicts
        - Referential mismatches
        - Data corruption
    - These IDs are **only unique within their environment**.
    - They **cannot be reliably reused or assumed to match** between environments.

- **Our Solution**

    To handle this safely and consistently, we follow this approach:
    - **Track by Code Instead of ID:**

        We track changes using business codes or unique keys that remain consistent across environments, rather than system-generated IDs.
    - **Use Descriptive Views:**
        We maintain views that combine these codes with their descriptions to ensure we have full clarity on what the data represents during rollout planning.
    - **Standardized Rollout Commands:**
        During rollout deployment , In control file (CTL)  we always use standard CRUD commands and donâ€™t pass ids as the argument.

    This ensures that:

    - New records are inserted with new auto-generated IDs
    - Data integrity is preserved
    - Conflicts with existing data are avoided

## Control Files for Identity-Based Tables
A **control file** is a structured configuration file that defines a set of operations to be performed using standard Blue Yonder (BY) commands.

- **Key Principles**
- No direct SQL operations (like `INSERT`, `UPDATE`, or `DELETE`) are used in control files.
- Instead, **standard BY commands** are called to perform 
operations like `Create Movement Zone` or `Remove Movement Zone`.

These commands are invoked with the necessary arguments, **excluding the ID**.  
The ID is automatically generated by the system using its internal sequence logic, ensuring consistency and avoiding ID conflicts across environments.